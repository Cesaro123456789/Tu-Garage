<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tu Garage - Compra y Venta</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
      
    <header class="header">
        <a href="index.html" class="logo">
            <img src="logo/Logotipo.png" alt="Tu Garage Logo">
        </a>
        
        <input type="checkbox" id="menu-toggle">
        <label for="menu-toggle" class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </label>

        <nav class="nav-menu">
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="https://www.google.com/maps/search/Timotes+Merida+Venezuela" target="_blank">Ubicaci√≥n</a></li>
                <li><a href="https://wa.me/584122818064?text=Hola!%20Tengo%20un%20veh√≠culo%20y%20quiero%20que%20me%20ayuden%20a%20venderlo" class="nav-sell">Vende tu Veh√≠culo</a></li>
                <li><a href="TYC.html">T√©rminos y Condiciones</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <h1>ENCUENTRA TU VEH√çCULO AQU√ç</h1>
        <p>Compra y venta de carros y motos</p>
        <a href="#inventario">
          <label for="mainSearch">
            BUSCA TU NUEVO VEH√çCULO
          </label>
        </a> 
    </section>
    
    <div class="search-container">
        <div class="search-box">
            <div class="input-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" id="mainSearch" placeholder="Busca marca, modelo o a√±o..." autocomplete="off">
                <div id="suggestionsBox" class="suggestions-list"></div>
            </div>
        </div>
    </div>

    <div class="inventory-section" id="inventario">
        <h2 class="section-title">CAT√ÅLOGO</h2>
        
        <div id="catalogo-dinamico" class="moto-grid">
            <p style="text-align: center; width: 100%; color: #636e72;">Cargando inventario...</p>
        </div>

        <div id="noResults" style="display: none; text-align: center; padding: 40px; color: #636e72;">
            <p>No encontramos modelos que coincidan con tu b√∫squeda.</p>
        </div>
    </div>
    
    <section class="sell-with-us">
        <div class="sell-content">
            <h2>¬øQuieres vender tu veh√≠culo?</h2>
            <p>Nos encargamos de publicarlo y buscarte el cliente ideal de forma segura.</p>
            <a href="https://wa.me/584122818064?text=Hola!%20Quiero%20vender%20mi%20veh√≠culo" class="btn-sell">Publicar ahora</a>
        </div>
    </section>

    <section class="faq-section">
        <h2 class="section-title">PREGUNTAS FRECUENTES</h2>
        <div class="faq-container">
            <div class="faq-item">
                <h4>¬øC√≥mo trabajan ustedes?</h4>
                <p>Nosotros ayudamos a las personas de <b>Timotes</b> a vender sus carros o motos m√°s r√°pido. Publicamos los veh√≠culos, atendemos a los interesados y cuadramos la cita para que el comprador y el due√±o se encuentren.</p>
            </div>
            <div class="faq-item">
                <h4>¬øD√≥nde se ven los veh√≠culos?</h4>
                <p>Como vendemos veh√≠culos de diferentes due√±os, no tenemos un local. Cuando te guste uno, nos avisas y cuadramos una hora para que lo veas aqu√≠ mismo en <b>Timotes</b>.</p>
            </div>
            <div class="faq-item">
                <h4>¬øPuedo revisar el veh√≠culo con calma?</h4>
                <p>¬°Claro! La idea es que te sientas seguro. Puedes verlo detalladamente y, si quieres, llevar a alguien que sepa de mec√°nica para que lo chequee antes de que hagas el trato con el due√±o.</p>
            </div>
            <div class="faq-item">
                <h4>¬øA qui√©n le pago y c√≥mo es el tema de la comisi√≥n?</h4>
                <p>El pago del veh√≠culo se le hace directamente al <b>due√±o</b>. Por nuestro trabajo de publicidad y gesti√≥n, nosotros cobramos una <b>peque√±a comisi√≥n</b> que ya suele estar acordada con el vendedor o incluida en el trato. Todo se maneja de forma clara antes de cerrar el negocio.</p>
            </div>
            <div class="faq-item">
                <h4>Tengo un Carro / Moto , ¬øme ayudan a venderlo?</h4>
                <p>¬°Seguro! Escr√≠benos al WhatsApp, dinos qu√© vendes y cu√°nto pides. Nosotros nos encargamos de buscarte el comprador y avisarte cuando alguien quiera verlo.</p>
            </div>
        </div>
    </section>

    <a href="https://wa.me/584122818064?text=Hola!%20Tengo%20una%20consulta%20general%20sobre%20los%20veh√≠culos" class="whatsapp-float" target="_blank">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
    </a>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <img src="logo/Logotipo.png" alt="Tu Garage Logo" class="footer-logo">
                <p>Conectando compradores y vendedores en Timotes.</p>
            </div>
            <div class="footer-info">
                <p><strong>Ubicaci√≥n:</strong> Timotes, Edo. M√©rida</p>
                <p><strong>Atenci√≥n:</strong> Lunes a S√°bado v√≠a WhatsApp</p>
            </div>
            <hr class="footer-line">
            <div class="footer-bottom">
                <p>¬© 2026 Tu Garage. Todos los derechos reservados.</p>
                <p class="footer-note">Tu aliado confiable en la compra y venta de veh√≠culos.</p>
            </div>
        </div>
    </footer>

    <script>
        const URL_CSV = "https://docs.google.com/spreadsheets/d/1P0ZzmDCwKyQekcM1blTR24xhUYIVJmWniTnx1AvMzKo/export?format=csv";

        async function cargarGarage() {
            try {
                const respuesta = await fetch(URL_CSV);
                const csvText = await respuesta.text();
                const lineas = csvText.split("\n").slice(1);
                const contenedor = document.getElementById('catalogo-dinamico');
                contenedor.innerHTML = ""; 

                lineas.forEach(linea => {
                    const columnas = linea.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                    if (columnas.length >= 5) {
                        const modelo = columnas[0].replace(/"/g, "").trim();
                        const precio = columnas[1].replace(/"/g, "").trim();
                        const categoria = columnas[2].replace(/"/g, "").trim();
                        const img = columnas[3].replace(/"/g, "").trim();
                        const link = columnas[4].replace(/"/g, "").trim();
                        
                        if(modelo !== "") {
                            contenedor.innerHTML += `
                                <div class="moto-card searchable" data-tipo="${categoria.toLowerCase()}">
                                    <div class="moto-image">
                                        <img src="${img}" alt="${modelo}">
                                        <span class="badge">DISPONIBLE</span>
                                    </div>
                                    <div class="moto-info">
                                        <h3>${modelo}</h3>
                                        <p>Consulta disponibilidad y detalles</p>
                                        <div class="card-footer">
                                            <span class="price">${precio}</span>
                                            <a href="${link}" target="_blank" class="btn-whatsapp">Ver Opciones</a>
                                        </div>
                                    </div>
                                </div>
                            `;
                        }
                    }
                });
                configurarBusqueda();
            } catch (e) {
                console.error("Error:", e);
                document.getElementById('catalogo-dinamico').innerHTML = "<p>Error al conectar con el inventario.</p>";
            }
        }

        function configurarBusqueda() {
            const inputSearch = document.getElementById('mainSearch');
            const noResultsMsg = document.getElementById('noResults');

            inputSearch.addEventListener('input', () => {
                const busqueda = inputSearch.value.toLowerCase();
                const tarjetas = document.querySelectorAll('.searchable');
                let hayCoincidencias = false;

                tarjetas.forEach(card => {
                    const contenido = card.textContent.toLowerCase();
                    if (contenido.includes(busqueda)) {
                        card.style.display = "block";
                        hayCoincidencias = true;
                    } else {
                        card.style.display = "none";
                    }
                });
                noResultsMsg.style.display = hayCoincidencias ? "none" : "block";
            });
        }

        cargarGarage();
    </script>
</body>
</html>
